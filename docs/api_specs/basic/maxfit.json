{
    "openapi": "3.0.0",
    "info": {
      "title": "Cambridge Sports Analytics Prediction Engine API",
      "description": "A robust, resilient, and flexible prediction analytics API that interacts with any dataset of predictive variables and outcomes.",
      "version": "2.0.0"
    },
    "servers": [
      {
      "url": "https://api.csanalytics.io/v2/prediction-engine",
      "description": "A robust, resilient, and flexible prediction analytics API that interacts with any dataset of predictive variables and outcomes."
      }
    ],
    "paths": {
      "/maxfit": {
        "post": {
          "tags": [
            "maxfit"
          ],
          "description": "Core specifications for invoking relevance-based maxfit predictions.",
          "operationId": "postMaxFit",
          "parameters": [
            {
              "name": "Content-Type",
              "in": "header",
              "description": "The content type of the request (application/json)",
              "required": true,
              "style": "simple",
              "explode": false,
              "schema": {
                "type": "string",
                "example": "application/json"
              }
            },
            {
              "name": "Connection",
              "in": "header",
              "description": "Connection header value (keep-alive)",
              "required": true,
              "style": "simple",
              "explode": false,
              "schema": {
                "type": "string",
                "example": "keep-alive"
              }
            },
            {
              "name": "x-api-key",
              "in": "header",
              "description": "Your organization API key for authenticating with the CSA Prediction Engine API",
              "required": true,
              "style": "simple",
              "explode": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "requestBody": {
            "description": "Request body for maxfit prediction",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/maxfit_body"
                },
                "example": {
                  "access_id": "CSA_ACCESS_ID",
                  "y":[[18.8],[2.3],[3],[6.7],[15.2],[20.9],[4],[2.4],[9.7],[8.8],[13.4],[8.4],[2.9],[2.7],[23],[8],[12],[10.3],[6.8],[7.1],[6.7],[12.3],[5.7],[2.5],[30.1],[5.4],[11.5],[9.9],[4],[3.6],[1.8],[11],[7.1],[11.5],[27],[5.4],[2.5],[28.9],[1.3],[7.3],[19.4],[8.6],[7.5],[17.4],[1.5],[15.9],[12.1],[20.3],[6.7]],
                  "X":[[25,2,76,53.7,23.1],[29,1,78,39.1,5.7],[32,2,77,54.1,5.3],[30,5,82,68.7,8.7],[24,1,69,51,20.3],[25,2,79,50.2,20],[35,3,80,51.5,9.4],[25,3,81,44,2.2],[27,2,77,49.8,12.1],[28,4,79,32.2,2.5],[33,1,75,52.6,16.2],[27,2,77,50.1,4],[21,1,75,54,4.6],[25,2,76,64.3,4.9],[24,5,85,51.7,27.5]],
                  "theta": [[24,5,81,60,11]]
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "Response body of a successful post job (maxfit).",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "job_id": {
                        "type": "integer",
                        "description": "Unique job identifier"
                      },
                      "job_code": {
                        "type": "string",
                        "description": "Unique job code"
                      }
                    },
                    "example": {
                      "job_id": 10405,
                      "job_code": "65cfz20f8eyfc501"
                    }
                  }
                }
              }
            }
          },
          "x-code-samples": [
            {
              "lang": "Python",
              "label": "Python Example",
              "source": "import requests\nimport json\n\nurl = \"https://api.csanalytics.io/v2/prediction-engine/maxfit\"\n\npayload = {\n    \"y\": [[18.8], [2.3], [3.0], [6.7], [15.2], [20.9], [4.0], [2.4], [9.7], [8.8], [13.4], [8.4], [2.9], [2.7], [23.0], [8.0], [12.0], [10.3], [6.8], [7.1], [6.7], [12.3], [5.7], [2.5], [30.1], [5.4], [11.5], [9.9], [4.0], [3.6], [1.8], [11.0], [7.1], [11.5], [27.0], [5.4], [2.5], [28.9], [1.3], [7.3], [19.4], [8.6], [7.5], [17.4], [1.5], [15.9], [12.1], [20.3], [6.7]],\n    \"X\": [[25.0, 2.0, 76.0, 53.7, 23.1], [29.0, 1.0, 78.0, 39.1, 5.7], [32.0, 2.0, 77.0, 54.1, 5.3], [30.0, 5.0, 82.0, 68.7, 8.7], [24.0, 1.0, 69.0, 51.0, 20.3], [25.0, 2.0, 79.0, 50.2, 20.0]],\n    \"theta\": [[24.0, 5.0, 81.0, 60.0, 11.0], [29.0, 3.0, 80.0, 46.4, 3.5], [25.0, 5.0, 81.0, 42.9, 1.3], [25.0, 4.0, 80.0, 55.2, 26.9]],\n   \n}\n\nheaders = {\n  'x-api-key': 'your-api-key',\n  'Content-Type': 'application/json',\n  'Connection': 'keep-alive'\n}\n\nresponse = requests.request(\"POST\", url, headers=headers, data=json.dumps(payload))\n\nprint(response.text)"
            }
          ]
        }
      }
    },
    "components": {
      "schemas": {
        "maxfit_body": {
          "required": [
            "access_id",
            "y",
            "X",
            "theta"
          ],
          "type": "object",
          "properties": {
            "access_id": {
              "type": "string",
              "description": "User access identification string for the CSA Prediction Engine"
            },
            "y": {
              "type": "array",
              "description": "Column vector of dependent variable. [N-by-1]",
              "items": {
                "type": "array",
                "items": {
                  "type": "number",
                  "format": "float"
                }
              }
            },
            "X": {
              "type": "array",
              "description": "Matrix of independent variable(s). [N-by-K]",
              "items": {
                "type": "array",
                "items": {
                  "type": "number",
                  "format": "float"
                }
              }
            },
            "theta": {
              "type": "array",
              "description": "Row vector of prediction circumstances. [1-by-K]",
              "items": {
                "type": "array",
                "items": {
                  "type": "number",
                  "format": "float"
                }
              }
            }
          }
        }
      }
    }
  }